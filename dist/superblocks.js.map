{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","bower_components/when/es6-shim/Promise.browserify-es6.js","bower_components/when/lib/Promise.js","bower_components/when/lib/Scheduler.js","bower_components/when/lib/decorators/unhandledRejection.js","bower_components/when/lib/env.js","bower_components/when/lib/format.js","bower_components/when/lib/makePromise.js","node_modules/browserify/node_modules/process/browser.js","src/lib/Array2D.es6","src/lib/ArrayBlocks.es6","src/lib/ArrayMain.es6","src/lib/Block.es6","src/lib/Brick.es6","src/lib/Cell.es6","src/lib/CellsArray.es6","src/lib/Game.es6","src/lib/Move.es6","src/lib/Position.es6","src/lib/Table.es6","src/superblocks.es6"],"names":[],"mappings":"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AAS;SACd;AACD,eAAO,EAAE,KAAK;AACd,kBAAU,EAAE,IAAI;QAChB,CAAC,CAAC;;AAEH,cAAO,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;OAC/B,CAAC;MACF,CAAA,CAAC,IAAI,EAAE,IAAI,EAAE,WAAW,CAAC,CAAE;KAC5B;;AAED,WAAO,IAAI,CAAC;IACZ;;AAED,UAAO,OAAO,CAAC;GACf,CAAC;EACF,CAAC,CAAC;CACF,CAAA,CAAC,OAAO,MAAM,KAAK,UAAU,IAAI,MAAM,CAAC,GAAG,GAAG,MAAM,GAAG,UAAS,OAAO,EAAE;AAAE,OAAM,CAAC,OAAO,GAAG,OAAO,EAAE,CAAC;CAAE,CAAC,CAAE;;;;;AC95B5G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;IC1FqB,OAAO;AACb,aADM,OAAO,CACZ,KAAK,EAAE,KAAK,EAAE;8BADT,OAAO;;AAEpB,YAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACnB,YAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACnB,YAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;KACnC;;iBALgB,OAAO;;eASnB,eAAC,CAAC,EAAE,CAAC,EAAO;AAAE,mBAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAAE;;;eACzC,eAAC,CAAC,EAAE,CAAC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","file":"superblocks.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * ES6 global Promise shim\n */\nvar unhandledRejections = require('../lib/decorators/unhandledRejection');\nvar PromiseConstructor = unhandledRejections(require('../lib/Promise'));\n\nmodule.exports = typeof global != 'undefined' ? (global.Promise = PromiseConstructor)\n\t           : typeof self   != 'undefined' ? (self.Promise   = PromiseConstructor)\n\t           : PromiseConstructor;\n","/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function (require) {\n\n\tvar makePromise = require('./makePromise');\n\tvar Scheduler = require('./Scheduler');\n\tvar async = require('./env').asap;\n\n\treturn makePromise({\n\t\tscheduler: new Scheduler(async)\n\t});\n\n});\n})(typeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); });\n","/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\t// Credit to Twisol (https://github.com/Twisol) for suggesting\n\t// this type of extensible queue + trampoline approach for next-tick conflation.\n\n\t/**\n\t * Async task scheduler\n\t * @param {function} async function to schedule a single async function\n\t * @constructor\n\t */\n\tfunction Scheduler(async) {\n\t\tthis._async = async;\n\t\tthis._running = false;\n\n\t\tthis._queue = this;\n\t\tthis._queueLen = 0;\n\t\tthis._afterQueue = {};\n\t\tthis._afterQueueLen = 0;\n\n\t\tvar self = this;\n\t\tthis.drain = function() {\n\t\t\tself._drain();\n\t\t};\n\t}\n\n\t/**\n\t * Enqueue a task\n\t * @param {{ run:function }} task\n\t */\n\tScheduler.prototype.enqueue = function(task) {\n\t\tthis._queue[this._queueLen++] = task;\n\t\tthis.run();\n\t};\n\n\t/**\n\t * Enqueue a task to run after the main task queue\n\t * @param {{ run:function }} task\n\t */\n\tScheduler.prototype.afterQueue = function(task) {\n\t\tthis._afterQueue[this._afterQueueLen++] = task;\n\t\tthis.run();\n\t};\n\n\tScheduler.prototype.run = function() {\n\t\tif (!this._running) {\n\t\t\tthis._running = true;\n\t\t\tthis._async(this.drain);\n\t\t}\n\t};\n\n\t/**\n\t * Drain the handler queue entirely, and then the after queue\n\t */\n\tScheduler.prototype._drain = function() {\n\t\tvar i = 0;\n\t\tfor (; i < this._queueLen; ++i) {\n\t\t\tthis._queue[i].run();\n\t\t\tthis._queue[i] = void 0;\n\t\t}\n\n\t\tthis._queueLen = 0;\n\t\tthis._running = false;\n\n\t\tfor (i = 0; i < this._afterQueueLen; ++i) {\n\t\t\tthis._afterQueue[i].run();\n\t\t\tthis._afterQueue[i] = void 0;\n\t\t}\n\n\t\tthis._afterQueueLen = 0;\n\t};\n\n\treturn Scheduler;\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n","/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function(require) {\n\n\tvar setTimer = require('../env').setTimer;\n\tvar format = require('../format');\n\n\treturn function unhandledRejection(Promise) {\n\n\t\tvar logError = noop;\n\t\tvar logInfo = noop;\n\t\tvar localConsole;\n\n\t\tif(typeof console !== 'undefined') {\n\t\t\t// Alias console to prevent things like uglify's drop_console option from\n\t\t\t// removing console.log/error. Unhandled rejections fall into the same\n\t\t\t// category as uncaught exceptions, and build tools shouldn't silence them.\n\t\t\tlocalConsole = console;\n\t\t\tlogError = typeof localConsole.error !== 'undefined'\n\t\t\t\t? function (e) { localConsole.error(e); }\n\t\t\t\t: function (e) { localConsole.log(e); };\n\n\t\t\tlogInfo = typeof localConsole.info !== 'undefined'\n\t\t\t\t? function (e) { localConsole.info(e); }\n\t\t\t\t: function (e) { localConsole.log(e); };\n\t\t}\n\n\t\tPromise.onPotentiallyUnhandledRejection = function(rejection) {\n\t\t\tenqueue(report, rejection);\n\t\t};\n\n\t\tPromise.onPotentiallyUnhandledRejectionHandled = function(rejection) {\n\t\t\tenqueue(unreport, rejection);\n\t\t};\n\n\t\tPromise.onFatalRejection = function(rejection) {\n\t\t\tenqueue(throwit, rejection.value);\n\t\t};\n\n\t\tvar tasks = [];\n\t\tvar reported = [];\n\t\tvar running = null;\n\n\t\tfunction report(r) {\n\t\t\tif(!r.handled) {\n\t\t\t\treported.push(r);\n\t\t\t\tlogError('Potentially unhandled rejection [' + r.id + '] ' + format.formatError(r.value));\n\t\t\t}\n\t\t}\n\n\t\tfunction unreport(r) {\n\t\t\tvar i = reported.indexOf(r);\n\t\t\tif(i >= 0) {\n\t\t\t\treported.splice(i, 1);\n\t\t\t\tlogInfo('Handled previous rejection [' + r.id + '] ' + format.formatObject(r.value));\n\t\t\t}\n\t\t}\n\n\t\tfunction enqueue(f, x) {\n\t\t\ttasks.push(f, x);\n\t\t\tif(running === null) {\n\t\t\t\trunning = setTimer(flush, 0);\n\t\t\t}\n\t\t}\n\n\t\tfunction flush() {\n\t\t\trunning = null;\n\t\t\twhile(tasks.length > 0) {\n\t\t\t\ttasks.shift()(tasks.shift());\n\t\t\t}\n\t\t}\n\n\t\treturn Promise;\n\t};\n\n\tfunction throwit(e) {\n\t\tthrow e;\n\t}\n\n\tfunction noop() {}\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(require); }));\n","/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/*global process,document,setTimeout,clearTimeout,MutationObserver,WebKitMutationObserver*/\n(function(define) { 'use strict';\ndefine(function(require) {\n\t/*jshint maxcomplexity:6*/\n\n\t// Sniff \"best\" async scheduling option\n\t// Prefer process.nextTick or MutationObserver, then check for\n\t// setTimeout, and finally vertx, since its the only env that doesn't\n\t// have setTimeout\n\n\tvar MutationObs;\n\tvar capturedSetTimeout = typeof setTimeout !== 'undefined' && setTimeout;\n\n\t// Default env\n\tvar setTimer = function(f, ms) { return setTimeout(f, ms); };\n\tvar clearTimer = function(t) { return clearTimeout(t); };\n\tvar asap = function (f) { return capturedSetTimeout(f, 0); };\n\n\t// Detect specific env\n\tif (isNode()) { // Node\n\t\tasap = function (f) { return process.nextTick(f); };\n\n\t} else if (MutationObs = hasMutationObserver()) { // Modern browser\n\t\tasap = initMutationObserver(MutationObs);\n\n\t} else if (!capturedSetTimeout) { // vert.x\n\t\tvar vertxRequire = require;\n\t\tvar vertx = vertxRequire('vertx');\n\t\tsetTimer = function (f, ms) { return vertx.setTimer(ms, f); };\n\t\tclearTimer = vertx.cancelTimer;\n\t\tasap = vertx.runOnLoop || vertx.runOnContext;\n\t}\n\n\treturn {\n\t\tsetTimer: setTimer,\n\t\tclearTimer: clearTimer,\n\t\tasap: asap\n\t};\n\n\tfunction isNode () {\n\t\treturn typeof process !== 'undefined' &&\n\t\t\tObject.prototype.toString.call(process) === '[object process]';\n\t}\n\n\tfunction hasMutationObserver () {\n\t\treturn (typeof MutationObserver === 'function' && MutationObserver) ||\n\t\t\t(typeof WebKitMutationObserver === 'function' && WebKitMutationObserver);\n\t}\n\n\tfunction initMutationObserver(MutationObserver) {\n\t\tvar scheduled;\n\t\tvar node = document.createTextNode('');\n\t\tvar o = new MutationObserver(run);\n\t\to.observe(node, { characterData: true });\n\n\t\tfunction run() {\n\t\t\tvar f = scheduled;\n\t\t\tscheduled = void 0;\n\t\t\tf();\n\t\t}\n\n\t\tvar i = 0;\n\t\treturn function (f) {\n\t\t\tscheduled = f;\n\t\t\tnode.data = (i ^= 1);\n\t\t};\n\t}\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(require); }));\n","/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\treturn {\n\t\tformatError: formatError,\n\t\tformatObject: formatObject,\n\t\ttryStringify: tryStringify\n\t};\n\n\t/**\n\t * Format an error into a string.  If e is an Error and has a stack property,\n\t * it's returned.  Otherwise, e is formatted using formatObject, with a\n\t * warning added about e not being a proper Error.\n\t * @param {*} e\n\t * @returns {String} formatted string, suitable for output to developers\n\t */\n\tfunction formatError(e) {\n\t\tvar s = typeof e === 'object' && e !== null && e.stack ? e.stack : formatObject(e);\n\t\treturn e instanceof Error ? s : s + ' (WARNING: non-Error used)';\n\t}\n\n\t/**\n\t * Format an object, detecting \"plain\" objects and running them through\n\t * JSON.stringify if possible.\n\t * @param {Object} o\n\t * @returns {string}\n\t */\n\tfunction formatObject(o) {\n\t\tvar s = String(o);\n\t\tif(s === '[object Object]' && typeof JSON !== 'undefined') {\n\t\t\ts = tryStringify(o, s);\n\t\t}\n\t\treturn s;\n\t}\n\n\t/**\n\t * Try to return the result of JSON.stringify(x).  If that fails, return\n\t * defaultValue\n\t * @param {*} x\n\t * @param {*} defaultValue\n\t * @returns {String|*} JSON.stringify(x) or defaultValue\n\t */\n\tfunction tryStringify(x, defaultValue) {\n\t\ttry {\n\t\t\treturn JSON.stringify(x);\n\t\t} catch(e) {\n\t\t\treturn defaultValue;\n\t\t}\n\t}\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n","/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\treturn function makePromise(environment) {\n\n\t\tvar tasks = environment.scheduler;\n\t\tvar emitRejection = initEmitRejection();\n\n\t\tvar objectCreate = Object.create ||\n\t\t\tfunction(proto) {\n\t\t\t\tfunction Child() {}\n\t\t\t\tChild.prototype = proto;\n\t\t\t\treturn new Child();\n\t\t\t};\n\n\t\t/**\n\t\t * Create a promise whose fate is determined by resolver\n\t\t * @constructor\n\t\t * @returns {Promise} promise\n\t\t * @name Promise\n\t\t */\n\t\tfunction Promise(resolver, handler) {\n\t\t\tthis._handler = resolver === Handler ? handler : init(resolver);\n\t\t}\n\n\t\t/**\n\t\t * Run the supplied resolver\n\t\t * @param resolver\n\t\t * @returns {Pending}\n\t\t */\n\t\tfunction init(resolver) {\n\t\t\tvar handler = new Pending();\n\n\t\t\ttry {\n\t\t\t\tresolver(promiseResolve, promiseReject, promiseNotify);\n\t\t\t} catch (e) {\n\t\t\t\tpromiseReject(e);\n\t\t\t}\n\n\t\t\treturn handler;\n\n\t\t\t/**\n\t\t\t * Transition from pre-resolution state to post-resolution state, notifying\n\t\t\t * all listeners of the ultimate fulfillment or rejection\n\t\t\t * @param {*} x resolution value\n\t\t\t */\n\t\t\tfunction promiseResolve (x) {\n\t\t\t\thandler.resolve(x);\n\t\t\t}\n\t\t\t/**\n\t\t\t * Reject this promise with reason, which will be used verbatim\n\t\t\t * @param {Error|*} reason rejection reason, strongly suggested\n\t\t\t *   to be an Error type\n\t\t\t */\n\t\t\tfunction promiseReject (reason) {\n\t\t\t\thandler.reject(reason);\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * @deprecated\n\t\t\t * Issue a progress event, notifying all progress listeners\n\t\t\t * @param {*} x progress event payload to pass to all listeners\n\t\t\t */\n\t\t\tfunction promiseNotify (x) {\n\t\t\t\thandler.notify(x);\n\t\t\t}\n\t\t}\n\n\t\t// Creation\n\n\t\tPromise.resolve = resolve;\n\t\tPromise.reject = reject;\n\t\tPromise.never = never;\n\n\t\tPromise._defer = defer;\n\t\tPromise._handler = getHandler;\n\n\t\t/**\n\t\t * Returns a trusted promise. If x is already a trusted promise, it is\n\t\t * returned, otherwise returns a new trusted Promise which follows x.\n\t\t * @param  {*} x\n\t\t * @return {Promise} promise\n\t\t */\n\t\tfunction resolve(x) {\n\t\t\treturn isPromise(x) ? x\n\t\t\t\t: new Promise(Handler, new Async(getHandler(x)));\n\t\t}\n\n\t\t/**\n\t\t * Return a reject promise with x as its reason (x is used verbatim)\n\t\t * @param {*} x\n\t\t * @returns {Promise} rejected promise\n\t\t */\n\t\tfunction reject(x) {\n\t\t\treturn new Promise(Handler, new Async(new Rejected(x)));\n\t\t}\n\n\t\t/**\n\t\t * Return a promise that remains pending forever\n\t\t * @returns {Promise} forever-pending promise.\n\t\t */\n\t\tfunction never() {\n\t\t\treturn foreverPendingPromise; // Should be frozen\n\t\t}\n\n\t\t/**\n\t\t * Creates an internal {promise, resolver} pair\n\t\t * @private\n\t\t * @returns {Promise}\n\t\t */\n\t\tfunction defer() {\n\t\t\treturn new Promise(Handler, new Pending());\n\t\t}\n\n\t\t// Transformation and flow control\n\n\t\t/**\n\t\t * Transform this promise's fulfillment value, returning a new Promise\n\t\t * for the transformed result.  If the promise cannot be fulfilled, onRejected\n\t\t * is called with the reason.  onProgress *may* be called with updates toward\n\t\t * this promise's fulfillment.\n\t\t * @param {function=} onFulfilled fulfillment handler\n\t\t * @param {function=} onRejected rejection handler\n\t\t * @param {function=} onProgress @deprecated progress handler\n\t\t * @return {Promise} new promise\n\t\t */\n\t\tPromise.prototype.then = function(onFulfilled, onRejected, onProgress) {\n\t\t\tvar parent = this._handler;\n\t\t\tvar state = parent.join().state();\n\n\t\t\tif ((typeof onFulfilled !== 'function' && state > 0) ||\n\t\t\t\t(typeof onRejected !== 'function' && state < 0)) {\n\t\t\t\t// Short circuit: value will not change, simply share handler\n\t\t\t\treturn new this.constructor(Handler, parent);\n\t\t\t}\n\n\t\t\tvar p = this._beget();\n\t\t\tvar child = p._handler;\n\n\t\t\tparent.chain(child, parent.receiver, onFulfilled, onRejected, onProgress);\n\n\t\t\treturn p;\n\t\t};\n\n\t\t/**\n\t\t * If this promise cannot be fulfilled due to an error, call onRejected to\n\t\t * handle the error. Shortcut for .then(undefined, onRejected)\n\t\t * @param {function?} onRejected\n\t\t * @return {Promise}\n\t\t */\n\t\tPromise.prototype['catch'] = function(onRejected) {\n\t\t\treturn this.then(void 0, onRejected);\n\t\t};\n\n\t\t/**\n\t\t * Creates a new, pending promise of the same type as this promise\n\t\t * @private\n\t\t * @returns {Promise}\n\t\t */\n\t\tPromise.prototype._beget = function() {\n\t\t\treturn begetFrom(this._handler, this.constructor);\n\t\t};\n\n\t\tfunction begetFrom(parent, Promise) {\n\t\t\tvar child = new Pending(parent.receiver, parent.join().context);\n\t\t\treturn new Promise(Handler, child);\n\t\t}\n\n\t\t// Array combinators\n\n\t\tPromise.all = all;\n\t\tPromise.race = race;\n\t\tPromise._traverse = traverse;\n\n\t\t/**\n\t\t * Return a promise that will fulfill when all promises in the\n\t\t * input array have fulfilled, or will reject when one of the\n\t\t * promises rejects.\n\t\t * @param {array} promises array of promises\n\t\t * @returns {Promise} promise for array of fulfillment values\n\t\t */\n\t\tfunction all(promises) {\n\t\t\treturn traverseWith(snd, null, promises);\n\t\t}\n\n\t\t/**\n\t\t * Array<Promise<X>> -> Promise<Array<f(X)>>\n\t\t * @private\n\t\t * @param {function} f function to apply to each promise's value\n\t\t * @param {Array} promises array of promises\n\t\t * @returns {Promise} promise for transformed values\n\t\t */\n\t\tfunction traverse(f, promises) {\n\t\t\treturn traverseWith(tryCatch2, f, promises);\n\t\t}\n\n\t\tfunction traverseWith(tryMap, f, promises) {\n\t\t\tvar handler = typeof f === 'function' ? mapAt : settleAt;\n\n\t\t\tvar resolver = new Pending();\n\t\t\tvar pending = promises.length >>> 0;\n\t\t\tvar results = new Array(pending);\n\n\t\t\tfor (var i = 0, x; i < promises.length && !resolver.resolved; ++i) {\n\t\t\t\tx = promises[i];\n\n\t\t\t\tif (x === void 0 && !(i in promises)) {\n\t\t\t\t\t--pending;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\ttraverseAt(promises, handler, i, x, resolver);\n\t\t\t}\n\n\t\t\tif(pending === 0) {\n\t\t\t\tresolver.become(new Fulfilled(results));\n\t\t\t}\n\n\t\t\treturn new Promise(Handler, resolver);\n\n\t\t\tfunction mapAt(i, x, resolver) {\n\t\t\t\tif(!resolver.resolved) {\n\t\t\t\t\ttraverseAt(promises, settleAt, i, tryMap(f, x, i), resolver);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction settleAt(i, x, resolver) {\n\t\t\t\tresults[i] = x;\n\t\t\t\tif(--pending === 0) {\n\t\t\t\t\tresolver.become(new Fulfilled(results));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction traverseAt(promises, handler, i, x, resolver) {\n\t\t\tif (maybeThenable(x)) {\n\t\t\t\tvar h = getHandlerMaybeThenable(x);\n\t\t\t\tvar s = h.state();\n\n\t\t\t\tif (s === 0) {\n\t\t\t\t\th.fold(handler, i, void 0, resolver);\n\t\t\t\t} else if (s > 0) {\n\t\t\t\t\thandler(i, h.value, resolver);\n\t\t\t\t} else {\n\t\t\t\t\tresolver.become(h);\n\t\t\t\t\tvisitRemaining(promises, i+1, h);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thandler(i, x, resolver);\n\t\t\t}\n\t\t}\n\n\t\tPromise._visitRemaining = visitRemaining;\n\t\tfunction visitRemaining(promises, start, handler) {\n\t\t\tfor(var i=start; i<promises.length; ++i) {\n\t\t\t\tmarkAsHandled(getHandler(promises[i]), handler);\n\t\t\t}\n\t\t}\n\n\t\tfunction markAsHandled(h, handler) {\n\t\t\tif(h === handler) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar s = h.state();\n\t\t\tif(s === 0) {\n\t\t\t\th.visit(h, void 0, h._unreport);\n\t\t\t} else if(s < 0) {\n\t\t\t\th._unreport();\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Fulfill-reject competitive race. Return a promise that will settle\n\t\t * to the same state as the earliest input promise to settle.\n\t\t *\n\t\t * WARNING: The ES6 Promise spec requires that race()ing an empty array\n\t\t * must return a promise that is pending forever.  This implementation\n\t\t * returns a singleton forever-pending promise, the same singleton that is\n\t\t * returned by Promise.never(), thus can be checked with ===\n\t\t *\n\t\t * @param {array} promises array of promises to race\n\t\t * @returns {Promise} if input is non-empty, a promise that will settle\n\t\t * to the same outcome as the earliest input promise to settle. if empty\n\t\t * is empty, returns a promise that will never settle.\n\t\t */\n\t\tfunction race(promises) {\n\t\t\tif(typeof promises !== 'object' || promises === null) {\n\t\t\t\treturn reject(new TypeError('non-iterable passed to race()'));\n\t\t\t}\n\n\t\t\t// Sigh, race([]) is untestable unless we return *something*\n\t\t\t// that is recognizable without calling .then() on it.\n\t\t\treturn promises.length === 0 ? never()\n\t\t\t\t : promises.length === 1 ? resolve(promises[0])\n\t\t\t\t : runRace(promises);\n\t\t}\n\n\t\tfunction runRace(promises) {\n\t\t\tvar resolver = new Pending();\n\t\t\tvar i, x, h;\n\t\t\tfor(i=0; i<promises.length; ++i) {\n\t\t\t\tx = promises[i];\n\t\t\t\tif (x === void 0 && !(i in promises)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\th = getHandler(x);\n\t\t\t\tif(h.state() !== 0) {\n\t\t\t\t\tresolver.become(h);\n\t\t\t\t\tvisitRemaining(promises, i+1, h);\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\th.visit(resolver, resolver.resolve, resolver.reject);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn new Promise(Handler, resolver);\n\t\t}\n\n\t\t// Promise internals\n\t\t// Below this, everything is @private\n\n\t\t/**\n\t\t * Get an appropriate handler for x, without checking for cycles\n\t\t * @param {*} x\n\t\t * @returns {object} handler\n\t\t */\n\t\tfunction getHandler(x) {\n\t\t\tif(isPromise(x)) {\n\t\t\t\treturn x._handler.join();\n\t\t\t}\n\t\t\treturn maybeThenable(x) ? getHandlerUntrusted(x) : new Fulfilled(x);\n\t\t}\n\n\t\t/**\n\t\t * Get a handler for thenable x.\n\t\t * NOTE: You must only call this if maybeThenable(x) == true\n\t\t * @param {object|function|Promise} x\n\t\t * @returns {object} handler\n\t\t */\n\t\tfunction getHandlerMaybeThenable(x) {\n\t\t\treturn isPromise(x) ? x._handler.join() : getHandlerUntrusted(x);\n\t\t}\n\n\t\t/**\n\t\t * Get a handler for potentially untrusted thenable x\n\t\t * @param {*} x\n\t\t * @returns {object} handler\n\t\t */\n\t\tfunction getHandlerUntrusted(x) {\n\t\t\ttry {\n\t\t\t\tvar untrustedThen = x.then;\n\t\t\t\treturn typeof untrustedThen === 'function'\n\t\t\t\t\t? new Thenable(untrustedThen, x)\n\t\t\t\t\t: new Fulfilled(x);\n\t\t\t} catch(e) {\n\t\t\t\treturn new Rejected(e);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Handler for a promise that is pending forever\n\t\t * @constructor\n\t\t */\n\t\tfunction Handler() {}\n\n\t\tHandler.prototype.when\n\t\t\t= Handler.prototype.become\n\t\t\t= Handler.prototype.notify // deprecated\n\t\t\t= Handler.prototype.fail\n\t\t\t= Handler.prototype._unreport\n\t\t\t= Handler.prototype._report\n\t\t\t= noop;\n\n\t\tHandler.prototype._state = 0;\n\n\t\tHandler.prototype.state = function() {\n\t\t\treturn this._state;\n\t\t};\n\n\t\t/**\n\t\t * Recursively collapse handler chain to find the handler\n\t\t * nearest to the fully resolved value.\n\t\t * @returns {object} handler nearest the fully resolved value\n\t\t */\n\t\tHandler.prototype.join = function() {\n\t\t\tvar h = this;\n\t\t\twhile(h.handler !== void 0) {\n\t\t\t\th = h.handler;\n\t\t\t}\n\t\t\treturn h;\n\t\t};\n\n\t\tHandler.prototype.chain = function(to, receiver, fulfilled, rejected, progress) {\n\t\t\tthis.when({\n\t\t\t\tresolver: to,\n\t\t\t\treceiver: receiver,\n\t\t\t\tfulfilled: fulfilled,\n\t\t\t\trejected: rejected,\n\t\t\t\tprogress: progress\n\t\t\t});\n\t\t};\n\n\t\tHandler.prototype.visit = function(receiver, fulfilled, rejected, progress) {\n\t\t\tthis.chain(failIfRejected, receiver, fulfilled, rejected, progress);\n\t\t};\n\n\t\tHandler.prototype.fold = function(f, z, c, to) {\n\t\t\tthis.when(new Fold(f, z, c, to));\n\t\t};\n\n\t\t/**\n\t\t * Handler that invokes fail() on any handler it becomes\n\t\t * @constructor\n\t\t */\n\t\tfunction FailIfRejected() {}\n\n\t\tinherit(Handler, FailIfRejected);\n\n\t\tFailIfRejected.prototype.become = function(h) {\n\t\t\th.fail();\n\t\t};\n\n\t\tvar failIfRejected = new FailIfRejected();\n\n\t\t/**\n\t\t * Handler that manages a queue of consumers waiting on a pending promise\n\t\t * @constructor\n\t\t */\n\t\tfunction Pending(receiver, inheritedContext) {\n\t\t\tPromise.createContext(this, inheritedContext);\n\n\t\t\tthis.consumers = void 0;\n\t\t\tthis.receiver = receiver;\n\t\t\tthis.handler = void 0;\n\t\t\tthis.resolved = false;\n\t\t}\n\n\t\tinherit(Handler, Pending);\n\n\t\tPending.prototype._state = 0;\n\n\t\tPending.prototype.resolve = function(x) {\n\t\t\tthis.become(getHandler(x));\n\t\t};\n\n\t\tPending.prototype.reject = function(x) {\n\t\t\tif(this.resolved) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.become(new Rejected(x));\n\t\t};\n\n\t\tPending.prototype.join = function() {\n\t\t\tif (!this.resolved) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tvar h = this;\n\n\t\t\twhile (h.handler !== void 0) {\n\t\t\t\th = h.handler;\n\t\t\t\tif (h === this) {\n\t\t\t\t\treturn this.handler = cycle();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn h;\n\t\t};\n\n\t\tPending.prototype.run = function() {\n\t\t\tvar q = this.consumers;\n\t\t\tvar handler = this.handler;\n\t\t\tthis.handler = this.handler.join();\n\t\t\tthis.consumers = void 0;\n\n\t\t\tfor (var i = 0; i < q.length; ++i) {\n\t\t\t\thandler.when(q[i]);\n\t\t\t}\n\t\t};\n\n\t\tPending.prototype.become = function(handler) {\n\t\t\tif(this.resolved) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.resolved = true;\n\t\t\tthis.handler = handler;\n\t\t\tif(this.consumers !== void 0) {\n\t\t\t\ttasks.enqueue(this);\n\t\t\t}\n\n\t\t\tif(this.context !== void 0) {\n\t\t\t\thandler._report(this.context);\n\t\t\t}\n\t\t};\n\n\t\tPending.prototype.when = function(continuation) {\n\t\t\tif(this.resolved) {\n\t\t\t\ttasks.enqueue(new ContinuationTask(continuation, this.handler));\n\t\t\t} else {\n\t\t\t\tif(this.consumers === void 0) {\n\t\t\t\t\tthis.consumers = [continuation];\n\t\t\t\t} else {\n\t\t\t\t\tthis.consumers.push(continuation);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * @deprecated\n\t\t */\n\t\tPending.prototype.notify = function(x) {\n\t\t\tif(!this.resolved) {\n\t\t\t\ttasks.enqueue(new ProgressTask(x, this));\n\t\t\t}\n\t\t};\n\n\t\tPending.prototype.fail = function(context) {\n\t\t\tvar c = typeof context === 'undefined' ? this.context : context;\n\t\t\tthis.resolved && this.handler.join().fail(c);\n\t\t};\n\n\t\tPending.prototype._report = function(context) {\n\t\t\tthis.resolved && this.handler.join()._report(context);\n\t\t};\n\n\t\tPending.prototype._unreport = function() {\n\t\t\tthis.resolved && this.handler.join()._unreport();\n\t\t};\n\n\t\t/**\n\t\t * Wrap another handler and force it into a future stack\n\t\t * @param {object} handler\n\t\t * @constructor\n\t\t */\n\t\tfunction Async(handler) {\n\t\t\tthis.handler = handler;\n\t\t}\n\n\t\tinherit(Handler, Async);\n\n\t\tAsync.prototype.when = function(continuation) {\n\t\t\ttasks.enqueue(new ContinuationTask(continuation, this));\n\t\t};\n\n\t\tAsync.prototype._report = function(context) {\n\t\t\tthis.join()._report(context);\n\t\t};\n\n\t\tAsync.prototype._unreport = function() {\n\t\t\tthis.join()._unreport();\n\t\t};\n\n\t\t/**\n\t\t * Handler that wraps an untrusted thenable and assimilates it in a future stack\n\t\t * @param {function} then\n\t\t * @param {{then: function}} thenable\n\t\t * @constructor\n\t\t */\n\t\tfunction Thenable(then, thenable) {\n\t\t\tPending.call(this);\n\t\t\ttasks.enqueue(new AssimilateTask(then, thenable, this));\n\t\t}\n\n\t\tinherit(Pending, Thenable);\n\n\t\t/**\n\t\t * Handler for a fulfilled promise\n\t\t * @param {*} x fulfillment value\n\t\t * @constructor\n\t\t */\n\t\tfunction Fulfilled(x) {\n\t\t\tPromise.createContext(this);\n\t\t\tthis.value = x;\n\t\t}\n\n\t\tinherit(Handler, Fulfilled);\n\n\t\tFulfilled.prototype._state = 1;\n\n\t\tFulfilled.prototype.fold = function(f, z, c, to) {\n\t\t\trunContinuation3(f, z, this, c, to);\n\t\t};\n\n\t\tFulfilled.prototype.when = function(cont) {\n\t\t\trunContinuation1(cont.fulfilled, this, cont.receiver, cont.resolver);\n\t\t};\n\n\t\tvar errorId = 0;\n\n\t\t/**\n\t\t * Handler for a rejected promise\n\t\t * @param {*} x rejection reason\n\t\t * @constructor\n\t\t */\n\t\tfunction Rejected(x) {\n\t\t\tPromise.createContext(this);\n\n\t\t\tthis.id = ++errorId;\n\t\t\tthis.value = x;\n\t\t\tthis.handled = false;\n\t\t\tthis.reported = false;\n\n\t\t\tthis._report();\n\t\t}\n\n\t\tinherit(Handler, Rejected);\n\n\t\tRejected.prototype._state = -1;\n\n\t\tRejected.prototype.fold = function(f, z, c, to) {\n\t\t\tto.become(this);\n\t\t};\n\n\t\tRejected.prototype.when = function(cont) {\n\t\t\tif(typeof cont.rejected === 'function') {\n\t\t\t\tthis._unreport();\n\t\t\t}\n\t\t\trunContinuation1(cont.rejected, this, cont.receiver, cont.resolver);\n\t\t};\n\n\t\tRejected.prototype._report = function(context) {\n\t\t\ttasks.afterQueue(new ReportTask(this, context));\n\t\t};\n\n\t\tRejected.prototype._unreport = function() {\n\t\t\tif(this.handled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.handled = true;\n\t\t\ttasks.afterQueue(new UnreportTask(this));\n\t\t};\n\n\t\tRejected.prototype.fail = function(context) {\n\t\t\tthis.reported = true;\n\t\t\temitRejection('unhandledRejection', this);\n\t\t\tPromise.onFatalRejection(this, context === void 0 ? this.context : context);\n\t\t};\n\n\t\tfunction ReportTask(rejection, context) {\n\t\t\tthis.rejection = rejection;\n\t\t\tthis.context = context;\n\t\t}\n\n\t\tReportTask.prototype.run = function() {\n\t\t\tif(!this.rejection.handled && !this.rejection.reported) {\n\t\t\t\tthis.rejection.reported = true;\n\t\t\t\temitRejection('unhandledRejection', this.rejection) ||\n\t\t\t\t\tPromise.onPotentiallyUnhandledRejection(this.rejection, this.context);\n\t\t\t}\n\t\t};\n\n\t\tfunction UnreportTask(rejection) {\n\t\t\tthis.rejection = rejection;\n\t\t}\n\n\t\tUnreportTask.prototype.run = function() {\n\t\t\tif(this.rejection.reported) {\n\t\t\t\temitRejection('rejectionHandled', this.rejection) ||\n\t\t\t\t\tPromise.onPotentiallyUnhandledRejectionHandled(this.rejection);\n\t\t\t}\n\t\t};\n\n\t\t// Unhandled rejection hooks\n\t\t// By default, everything is a noop\n\n\t\tPromise.createContext\n\t\t\t= Promise.enterContext\n\t\t\t= Promise.exitContext\n\t\t\t= Promise.onPotentiallyUnhandledRejection\n\t\t\t= Promise.onPotentiallyUnhandledRejectionHandled\n\t\t\t= Promise.onFatalRejection\n\t\t\t= noop;\n\n\t\t// Errors and singletons\n\n\t\tvar foreverPendingHandler = new Handler();\n\t\tvar foreverPendingPromise = new Promise(Handler, foreverPendingHandler);\n\n\t\tfunction cycle() {\n\t\t\treturn new Rejected(new TypeError('Promise cycle'));\n\t\t}\n\n\t\t// Task runners\n\n\t\t/**\n\t\t * Run a single consumer\n\t\t * @constructor\n\t\t */\n\t\tfunction ContinuationTask(continuation, handler) {\n\t\t\tthis.continuation = continuation;\n\t\t\tthis.handler = handler;\n\t\t}\n\n\t\tContinuationTask.prototype.run = function() {\n\t\t\tthis.handler.join().when(this.continuation);\n\t\t};\n\n\t\t/**\n\t\t * Run a queue of progress handlers\n\t\t * @constructor\n\t\t */\n\t\tfunction ProgressTask(value, handler) {\n\t\t\tthis.handler = handler;\n\t\t\tthis.value = value;\n\t\t}\n\n\t\tProgressTask.prototype.run = function() {\n\t\t\tvar q = this.handler.consumers;\n\t\t\tif(q === void 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (var c, i = 0; i < q.length; ++i) {\n\t\t\t\tc = q[i];\n\t\t\t\trunNotify(c.progress, this.value, this.handler, c.receiver, c.resolver);\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Assimilate a thenable, sending it's value to resolver\n\t\t * @param {function} then\n\t\t * @param {object|function} thenable\n\t\t * @param {object} resolver\n\t\t * @constructor\n\t\t */\n\t\tfunction AssimilateTask(then, thenable, resolver) {\n\t\t\tthis._then = then;\n\t\t\tthis.thenable = thenable;\n\t\t\tthis.resolver = resolver;\n\t\t}\n\n\t\tAssimilateTask.prototype.run = function() {\n\t\t\tvar h = this.resolver;\n\t\t\ttryAssimilate(this._then, this.thenable, _resolve, _reject, _notify);\n\n\t\t\tfunction _resolve(x) { h.resolve(x); }\n\t\t\tfunction _reject(x)  { h.reject(x); }\n\t\t\tfunction _notify(x)  { h.notify(x); }\n\t\t};\n\n\t\tfunction tryAssimilate(then, thenable, resolve, reject, notify) {\n\t\t\ttry {\n\t\t\t\tthen.call(thenable, resolve, reject, notify);\n\t\t\t} catch (e) {\n\t\t\t\treject(e);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Fold a handler value with z\n\t\t * @constructor\n\t\t */\n\t\tfunction Fold(f, z, c, to) {\n\t\t\tthis.f = f; this.z = z; this.c = c; this.to = to;\n\t\t\tthis.resolver = failIfRejected;\n\t\t\tthis.receiver = this;\n\t\t}\n\n\t\tFold.prototype.fulfilled = function(x) {\n\t\t\tthis.f.call(this.c, this.z, x, this.to);\n\t\t};\n\n\t\tFold.prototype.rejected = function(x) {\n\t\t\tthis.to.reject(x);\n\t\t};\n\n\t\tFold.prototype.progress = function(x) {\n\t\t\tthis.to.notify(x);\n\t\t};\n\n\t\t// Other helpers\n\n\t\t/**\n\t\t * @param {*} x\n\t\t * @returns {boolean} true iff x is a trusted Promise\n\t\t */\n\t\tfunction isPromise(x) {\n\t\t\treturn x instanceof Promise;\n\t\t}\n\n\t\t/**\n\t\t * Test just enough to rule out primitives, in order to take faster\n\t\t * paths in some code\n\t\t * @param {*} x\n\t\t * @returns {boolean} false iff x is guaranteed *not* to be a thenable\n\t\t */\n\t\tfunction maybeThenable(x) {\n\t\t\treturn (typeof x === 'object' || typeof x === 'function') && x !== null;\n\t\t}\n\n\t\tfunction runContinuation1(f, h, receiver, next) {\n\t\t\tif(typeof f !== 'function') {\n\t\t\t\treturn next.become(h);\n\t\t\t}\n\n\t\t\tPromise.enterContext(h);\n\t\t\ttryCatchReject(f, h.value, receiver, next);\n\t\t\tPromise.exitContext();\n\t\t}\n\n\t\tfunction runContinuation3(f, x, h, receiver, next) {\n\t\t\tif(typeof f !== 'function') {\n\t\t\t\treturn next.become(h);\n\t\t\t}\n\n\t\t\tPromise.enterContext(h);\n\t\t\ttryCatchReject3(f, x, h.value, receiver, next);\n\t\t\tPromise.exitContext();\n\t\t}\n\n\t\t/**\n\t\t * @deprecated\n\t\t */\n\t\tfunction runNotify(f, x, h, receiver, next) {\n\t\t\tif(typeof f !== 'function') {\n\t\t\t\treturn next.notify(x);\n\t\t\t}\n\n\t\t\tPromise.enterContext(h);\n\t\t\ttryCatchReturn(f, x, receiver, next);\n\t\t\tPromise.exitContext();\n\t\t}\n\n\t\tfunction tryCatch2(f, a, b) {\n\t\t\ttry {\n\t\t\t\treturn f(a, b);\n\t\t\t} catch(e) {\n\t\t\t\treturn reject(e);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Return f.call(thisArg, x), or if it throws return a rejected promise for\n\t\t * the thrown exception\n\t\t */\n\t\tfunction tryCatchReject(f, x, thisArg, next) {\n\t\t\ttry {\n\t\t\t\tnext.become(getHandler(f.call(thisArg, x)));\n\t\t\t} catch(e) {\n\t\t\t\tnext.become(new Rejected(e));\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Same as above, but includes the extra argument parameter.\n\t\t */\n\t\tfunction tryCatchReject3(f, x, y, thisArg, next) {\n\t\t\ttry {\n\t\t\t\tf.call(thisArg, x, y, next);\n\t\t\t} catch(e) {\n\t\t\t\tnext.become(new Rejected(e));\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * @deprecated\n\t\t * Return f.call(thisArg, x), or if it throws, *return* the exception\n\t\t */\n\t\tfunction tryCatchReturn(f, x, thisArg, next) {\n\t\t\ttry {\n\t\t\t\tnext.notify(f.call(thisArg, x));\n\t\t\t} catch(e) {\n\t\t\t\tnext.notify(e);\n\t\t\t}\n\t\t}\n\n\t\tfunction inherit(Parent, Child) {\n\t\t\tChild.prototype = objectCreate(Parent.prototype);\n\t\t\tChild.prototype.constructor = Child;\n\t\t}\n\n\t\tfunction snd(x, y) {\n\t\t\treturn y;\n\t\t}\n\n\t\tfunction noop() {}\n\n\t\tfunction initEmitRejection() {\n\t\t\t/*global process, self, CustomEvent*/\n\t\t\tif(typeof process !== 'undefined' && process !== null\n\t\t\t\t&& typeof process.emit === 'function') {\n\t\t\t\t// Returning falsy here means to call the default\n\t\t\t\t// onPotentiallyUnhandledRejection API.  This is safe even in\n\t\t\t\t// browserify since process.emit always returns falsy in browserify:\n\t\t\t\t// https://github.com/defunctzombie/node-process/blob/master/browser.js#L40-L46\n\t\t\t\treturn function(type, rejection) {\n\t\t\t\t\treturn type === 'unhandledRejection'\n\t\t\t\t\t\t? process.emit(type, rejection.value, rejection)\n\t\t\t\t\t\t: process.emit(type, rejection);\n\t\t\t\t};\n\t\t\t} else if(typeof self !== 'undefined' && typeof CustomEvent === 'function') {\n\t\t\t\treturn (function(noop, self, CustomEvent) {\n\t\t\t\t\tvar hasCustomEvent = false;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar ev = new CustomEvent('unhandledRejection');\n\t\t\t\t\t\thasCustomEvent = ev instanceof CustomEvent;\n\t\t\t\t\t} catch (e) {}\n\n\t\t\t\t\treturn !hasCustomEvent ? noop : function(type, rejection) {\n\t\t\t\t\t\tvar ev = new CustomEvent(type, {\n\t\t\t\t\t\t\tdetail: {\n\t\t\t\t\t\t\t\treason: rejection.value,\n\t\t\t\t\t\t\t\tkey: rejection\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbubbles: false,\n\t\t\t\t\t\t\tcancelable: true\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn !self.dispatchEvent(ev);\n\t\t\t\t\t};\n\t\t\t\t}(noop, self, CustomEvent));\n\t\t\t}\n\n\t\t\treturn noop;\n\t\t}\n\n\t\treturn Promise;\n\t};\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            currentQueue[queueIndex].run();\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","export default class Array2D {\n    constructor(xSize, ySize) {\n        this.xSize = xSize;\n        this.ySize = ySize;\n        this._array = this.buildArray();\n    }\n\n    get array() { return this._array; }\n\n    getAt(x, y)      { return this._array[x][y]; }\n    setAt(x, y, val) { this._array[x][y] = val; }\n\n    buildArray() {\n        var array = new Array(this.ySize);\n\n        for (var y = 0; y < this.ySize; y++) {\n            array[y] = new Array(this.xSize);\n        }\n\n        this._array = array;\n\n        return this.array;\n    }\n\n    prettyPrint() {\n        var array = this.array.map(row => {\n            return row.map(cell => {\n                return (cell.nBlock);\n            });\n        });\n\n        return console.table(array);\n    }\n}\n","import ArrayMain from './ArrayMain.es6';\n\nexport default class ArrayBlocks extends ArrayMain {\n    constructor() {\n        super();\n    }\n\n    findByColor() {\n\n    }\n\n    findByTexture() {\n\n    }\n}\n","export default class ArrayBlocks extends Array {\n    constructor() {\n        super();\n    }\n\n    add(block) {\n        this.push(block);\n\n        return this.last();\n    }\n\n    last() {\n        return this.slice(-1)[0];\n    }\n}\n","/*global Phaser*/\n\nimport Brick            from './Brick.es6';\nimport ArrayMain        from './ArrayMain.es6';\nimport Position         from './Position.es6';\nimport Move             from './Move.es6';\nimport Promise          from '../../bower_components/when/es6-shim/Promise.browserify-es6.js';\n\nexport default class Block {\n    constructor(phaserGame, table) {\n        this.position    = new Position();\n        this.bricks      = new ArrayMain();\n        this.table       = table;\n        this.nBlock      = table.incrementNBlocks();\n        this.phaserGame  = phaserGame;\n        this.phaserGroup = phaserGame.add.group();\n    }\n\n    addBrick(brick) {\n        this.table.putBrick(brick);\n\n        return this.bricks.add(brick);\n    }\n\n    newBrick(position) {\n        this.phaserGroup.create(position.xPixels, position.yPixels, 'green');\n\n        return this.addBrick(new Brick(position, this.nBlock));\n    }\n\n    move(direction) {\n        return new Promise((resolve, reject) => {\n            this.phaserTranslate(new Move(this.position)[direction]());\n            this.table.moveBlock(this, direction);\n\n            resolve(this.position);\n        });\n    }\n\n    down() {\n        return this.move('down');\n    }\n\n    phaserTranslate(position) {\n        var tween = this.phaserGame.add.tween(this.phaserGroup);\n\n        // should I return tween ?\n        tween.to(\n          position.phaserPosition,\n          1,\n          Phaser.Easing.Linear.None,\n          true\n        );\n    }\n\n}\n","export default class Brick {\n    constructor(position, nBlock) {\n        this.position = position;\n        this.nBlock   = nBlock;\n    }\n}\n","export default class Cell {\n    constructor(x, y) {\n      this.x = x;\n      this.y = y;\n      this.nBrick = null;\n      this.nBlock = null;\n    }\n\n    clear() {\n      this.nBlock = null;\n    }\n\n    setTo(nBlock) {\n      this.nBlock = nBlock;\n\n      return this;\n    }\n}\n","import Array2D from './Array2D.es6';\nimport Cell    from './Cell.es6';\n\nexport default class CellsArray extends Array2D {\n    constructor(xSize, ySize) {\n        super(xSize, ySize);\n        this.createCells();\n    }\n\n    get array() { return this._array; }\n\n    /* Notice that x and y are switched */\n    cell(position) {\n      return this.array[position.y][position.x];\n    }\n\n    createCells() {\n        for (var x = 0; x < this.ySize; ++x) {\n            for (var y = 0; y < this.xSize; ++y) {\n              this.setAt(x, y, new Cell(x, y));\n            }\n        }\n\n        return this.array;\n    }\n\n}\n","/*global Phaser*/\n\nimport Table        from './Table.es6';\nimport Position     from './Position.es6';\n\nexport default class Game {\n    constructor(xSize, ySize, cellSize, startCallback) {\n        this.xSize = xSize;\n        this.ySize = ySize;\n        this.cellSize = cellSize;\n        this.phaser = this.phaserGame(startCallback);\n        this.table = new Table(xSize, ySize);\n        this.cursos = null;\n    }\n\n    get cellsArray()   { return this._cellsArray; }\n\n    phaserGame(startCallback) {\n        var width  = Position.toPixels(this.xSize),\n            height = Position.toPixels(this.ySize);\n\n        return new Phaser.Game(\n            width,\n            height,\n            Phaser.AUTO,\n            'tetris',\n            { preload: this.phaserPreload,\n              create: this.phaserCreate.bind(this, startCallback),\n              update: this.phaserUpdate });\n    }\n\n    phaserPreload() {\n        this.load.image('orange', '../images/block_orange.png');\n        this.load.image('green', './images/block_green.png');\n        this.load.image('yellow', '../../images/block_yellow.png');\n        this.load.image('pink', '../../images/block_pink.png');\n    }\n\n    phaserCreate(startCallback) {\n        this.phaser.add.graphics(0, 0);\n        this.cursors = this.phaser.input.keyboard.createCursorKeys();\n\n        startCallback();\n    }\n\n    phaserUpdate() {\n\n    }\n}\n","export default class Move {\n    constructor(position) {\n        this.position    = position;\n    }\n\n    down() {\n      ++this.position.y;\n\n      return this.position;\n    }\n\n}\n","export default class Position {\n    constructor(x = 0, y = 0) {\n        this.x = x;\n        this.y = y;\n    }\n\n    get xPixels() { return Position.toPixels(this.x); }\n    get yPixels() { return Position.toPixels(this.y); }\n\n    get phaserPosition() {\n        return {\n            x: this.xPixels,\n            y: this.yPixels\n        };\n    }\n\n    static toPixels(val, cellSize = 35) {\n        return val * cellSize;\n    }\n\n}\n","import ArrayBlocks      from './ArrayBlocks.es6';\nimport CellsArray       from './CellsArray.es6';\nimport Move             from './Move.es6';\n\nexport default class Table {\n    constructor(xSize, ySize) {\n        this.xSize          = xSize;\n        this.ySize          = ySize;\n        this._cellsArray    = new CellsArray(xSize, ySize);\n        this.blocks         = new ArrayBlocks();\n    }\n\n    get cellsArray()   { return this._cellsArray; }\n\n    incrementNBlocks() {\n        return ++this.blocks.length;\n    }\n\n    moveBlock(block, direction) {\n        block.bricks.forEach((brick) => {\n            this.cellsArray.cell(brick.position)\n            .clear();\n        });\n\n        block.bricks.forEach((brick) => {\n            this.cellsArray.cell(new Move(brick.position)[direction]())\n            .setTo(brick.nBlock);\n        });\n    }\n\n    putBrick(brick) {\n        return this.cellsArray.cell(brick.position)\n        .setTo(brick.nBlock);\n    }\n\n}\n","/*global Phaser*/\n\nimport Game             from './lib/Game.es6';\nimport Block            from './lib/Block.es6';\nimport Position         from './lib/Position.es6';\n\nvar game;\n\nvar printMessage = function() {\n    console.log('Done !');\n};\n\nvar start = function() {\n    var block = new Block(game.phaser, game.table);\n\n    block.newBrick(new Position(0, 0));\n    block.newBrick(new Position(0, 1));\n    block.newBrick(new Position(0, 2));\n\n    block.down()\n    .then(block.down.bind(block))\n    .then(block.down.bind(block))\n    .then(block.down.bind(block));\n};\n\ngame = new Game(10, 20, 35, start);\nwindow.game = game;\n"]}