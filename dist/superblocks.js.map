{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/data/data.json.es6","src/lib/Array/Array2D.es6","src/lib/Array/ArrayBlocks.es6","src/lib/Array/ArrayMain.es6","src/lib/Block.es6","src/lib/Brick.es6","src/lib/Cell.es6","src/lib/CellsArray.es6","src/lib/Collision/Collision.es6","src/lib/Collision/CollisionDetection.es6","src/lib/Color.es6","src/lib/Game/Game.es6","src/lib/Game/GameLoop.es6","src/lib/Level.es6","src/lib/Move/Move.es6","src/lib/Move/MoveBlock.es6","src/lib/Move/MoveBrick.es6","src/lib/Position/BlockPosition.es6","src/lib/Position/BrickPosition.es6","src/lib/Position/Position.es6","src/lib/Rotate.es6","src/lib/Row.es6","src/lib/Table.es6","src/lib/Util.es6","src/superblocks.es6"],"names":[],"mappings":"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","file":"superblocks.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var data = {\n    gameOptions: {\n        speedOptions: {\n            defaultSpeed: 220,\n            speedFactor: 20\n        },\n        levels: {\n            requiredRows: 5\n        }\n    },\n    blocks: [\n        {\n            name: 'pyramid',\n            colorName: 'green',\n            pivot: {\n                x: 1,\n                y: 1\n            },\n            anchor: {\n                x: 0.5,\n                y: 0.5\n            },\n            patterns: [\n                {\n                    angle: 0,\n                    positions: [\n                        [-1, 0], [0, 0], [1, 0], [0, -1]\n                    ]\n                },\n                {\n                    angle: 90,\n                    positions: [\n                        [0, -1], [0, 0], [0, 1], [1, 0]\n                    ]\n                },\n                {\n                    angle: 180,\n                    positions: [\n                        [1, 0], [0, 0], [-1, 0], [0, 1]\n                    ]\n                },\n                {\n                    angle: 270,\n                    positions: [\n                        [0, 1], [0, 0], [0, -1], [-1, 0]\n                    ]\n                }\n            ]\n        },\n        {\n            name: 'column',\n            colorName: 'yellow',\n            pivot: {\n                x: 2,\n                y: 0\n            },\n            anchor: {\n                x: 0,\n                y: 1\n            },\n            patterns: [\n                {\n                    angle: 0,\n                    positions: [\n                        [-2, 0], [-1, 0], [0, 0], [1, 0]\n                    ]\n                },\n                {\n                    angle: 90,\n                    positions: [\n                        [0, -1], [0, 0], [0, 1], [0, 2]\n                    ]\n                },\n                {\n                    angle: 180,\n                    positions: [\n                        [1, 1], [0, 1], [-1, 1], [-2, 1]\n                    ]\n                },\n                {\n                    angle: 270,\n                    positions: [\n                        [-1, 2], [-1, 1], [-1, 0], [-1, -1]\n                    ]\n                }\n            ]\n        },\n        {\n            name: 'cube',\n            colorName: 'orange',\n            pivot: {\n                x: 1,\n                y: 1\n            },\n            anchor: {\n                x: 0,\n                y: 0\n            },\n            patterns: [\n                {\n                    angle: 0,\n                    positions: [\n                        [-1, 0], [-1, -1], [0, -1], [0, 0]\n                    ]\n                },\n                {\n                    angle: 90,\n                    positions: [\n                        [-1, -1], [0, -1], [0, 0], [-1, 0]\n                    ]\n                },\n                {\n                    angle: 180,\n                    positions: [\n                        [0, -1], [0, 0], [-1, 0], [-1, -1]\n                    ]\n                },\n                {\n                    angle: 270,\n                    positions: [\n                        [0, 0], [-1, 0], [-1, -1], [0, -1]\n                    ]\n                }\n            ]\n        },\n        {\n            name: 'stack_right',\n            colorName: 'pink',\n            pivot: {\n                x: 1,\n                y: 1\n            },\n            anchor: {\n                x: 0.5,\n                y: 0.5\n            },\n            patterns: [\n                {\n                    angle: 0,\n                    positions: [\n                        [-1, 0], [0, 0], [0, -1], [1, -1]\n                    ]\n                },\n                {\n                    angle: 90,\n                    positions: [\n                        [0, -1], [0, 0], [1, 0], [1, 1]\n                    ]\n                },\n                {\n                    angle: 180,\n                    positions: [\n                        [1, 0], [0, 0], [0, 1], [-1, 1]\n                    ]\n                },\n                {\n                    angle: 270,\n                    positions: [\n                        [0, 1], [0, 0], [-1, 0], [-1, -1]\n                    ]\n                }\n            ]\n        },\n        {\n            name: 'stack_left',\n            colorName: 'skyblue',\n            pivot: {\n                x: 1,\n                y: 1\n            },\n            anchor: {\n                x: 0.5,\n                y: 0.5\n            },\n            patterns: [\n                {\n                    angle: 0,\n                    positions: [\n                        [-1, -1], [0, -1], [0, 0], [1, 0]\n                    ]\n                },\n                {\n                    angle: 90,\n                    positions: [\n                        [1, -1], [1, 0], [0, 0], [0, 1]\n                    ]\n                },\n                {\n                    angle: 180,\n                    positions: [\n                        [1, 1], [0, 1], [0, 0], [-1, 0]\n                    ]\n                },\n                {\n                    angle: 270,\n                    positions: [\n                        [0, 1], [0, 0], [1, 0], [1, -1]\n                    ]\n                }\n            ]\n        },\n        {\n            name: 'square_left',\n            colorName: 'red',\n            pivot: {\n                x: 1,\n                y: 1\n            },\n            anchor: {\n                x: 0.5,\n                y: 0.5\n            },\n            patterns: [\n                {\n                    angle: 0,\n                    positions: [\n                        [-1, 0], [0, 0], [1, 0], [1, -1]\n                    ]\n                },\n                {\n                    angle: 90,\n                    positions: [\n                        [0, -1], [0, 0], [0, 1], [1, 1]\n                    ]\n                },\n                {\n                    angle: 180,\n                    positions: [\n                        [1, 0], [0, 0], [-1, 0], [-1, 1]\n                    ]\n                },\n                {\n                    angle: 270,\n                    positions: [\n                        [0, 1], [0, 0], [0, -1], [-1, -1]\n                    ]\n                }\n            ]\n        },\n        {\n            name: 'square_right',\n            colorName: 'blue',\n            pivot: {\n                x: 1,\n                y: 1\n            },\n            anchor: {\n                x: 0.5,\n                y: 0.5\n            },\n            patterns: [\n                {\n                    angle: 0,\n                    positions: [\n                        [-1, -1], [-1, 0], [0, 0], [1, 0]\n                    ]\n                },\n                {\n                    angle: 90,\n                    positions: [\n                        [1, -1], [0, -1], [0, 0], [0, 1]\n                    ]\n                },\n                {\n                    angle: 180,\n                    positions: [\n                        [1, 1], [1, 0], [0, 0], [-1, 0]\n                    ]\n                },\n                {\n                    angle: 270,\n                    positions: [\n                        [-1, 1], [0, 1], [0, 0], [0, -1]\n                    ]\n                }\n            ]\n        }\n    ]\n};\n\nexport default data;\n","export default class Array2D {\n    constructor(xSize, ySize) {\n        this.xSize = xSize;\n        this.ySize = ySize;\n        this._array = this.buildArray();\n    }\n\n    get array() { return this._array; }\n\n    getAt(x, y)      { return this._array[x][y]; }\n    setAt(x, y, val) { this._array[x][y] = val; }\n\n    buildArray() {\n        var array = new Array(this.ySize);\n\n        for (var y = 0; y < this.ySize; y++) {\n            array[y] = new Array(this.xSize);\n        }\n\n        this._array = array;\n\n        return this.array;\n    }\n\n    prettyPrint() {\n        var array = this.array.map(row => {\n            return row.map(cell => {\n                if (!cell.isEmpty()) {\n                    return (cell.brick.nBrick);\n                }\n            });\n        });\n\n        return console.table(array);\n    }\n}\n","import ArrayMain from './ArrayMain.es6';\n\nexport default class ArrayBlocks extends ArrayMain {\n    constructor() {\n        super();\n    }\n\n    findByColor() {\n\n    }\n\n    findByTexture() {\n\n    }\n}\n","export default class ArrayMain extends Array {\n    constructor() {\n        super();\n    }\n\n    get first()                { return this[0]; }\n    get last()                 { return this.slice(-1)[0]; }\n    get isEmpty()              { return this.length === 0; }\n\n    add(block) {\n        this.push(block);\n\n        return this.last;\n    }\n\n    find(idx) {\n        return this.indexOf(idx);\n    }\n\n    randomPick() {\n        return this[Math.floor(Math.random() * this.length)];\n    }\n\n    contains(elm) {\n        return this.indexOf(elm) !== -1;\n    }\n\n    mapTo(x) {\n        var array = new ArrayMain();\n\n        this.forEach((elm) => {\n            array.add(elm[x]);\n        });\n\n        return array;\n    }\n\n    /**\n     * Array comparison (http://stackoverflow.com/a/14853974/2048774)\n     * @param  {[type]} array [description]\n     * @return {[type]}       [description]\n     */\n    equals(array) {\n        // if the other array is a falsy value, return\n        if (!array) {\n            return false;\n        }\n\n        // compare lengths - can save a lot of time\n        if (this.length !== array.length) {\n            return false;\n        }\n\n        for (var i = 0, l = this.length; i < l; i++) {\n            // Check if we have nested arrays\n            if (this[i] instanceof Array && array[i] instanceof Array) {\n                // recurse into the nested arrays\n                if (!this[i].equals(array[i])) {\n                    return false;\n                }\n            }\n            else if (this[i] !== array[i]) {\n                // Warning - two different object instances\n                // will never be equal: {x:20} != {x:20}\n                return false;\n            }\n        }\n        return true;\n    }\n}\n","import Util                      from './Util.es6';\nimport Brick                     from './Brick.es6';\nimport ArrayMain                 from './Array/ArrayMain.es6';\nimport BlockPosition             from './Position/BlockPosition.es6';\nimport MoveBlock                 from './Move/MoveBlock.es6';\nimport Rotate                    from './Rotate.es6';\nimport CollisionDetection        from './Collision/CollisionDetection.es6';\nimport Color                     from './Color.es6';\n\nexport default class Block {\n    constructor(phaserGame, table, patterns, positionArgs, colorName) {\n        this.phaserGame         = phaserGame;\n        this.phaserGroup        = this.phaserGame.add.group();\n\n        this.table              = table;\n        this.position           = this.createPosition(positionArgs);\n\n        this.bricks             = new ArrayMain();\n        this.patterns           = patterns;\n        this.color              = new Color(colorName);\n        this.nBlock             = table.incrementNBlocks();\n\n        this.loadPhaserGroupPivot();\n        this.loadPhaserGroupPosition();\n    }\n\n    get moveBlock()         { return new MoveBlock(this.position, this); }\n    get rotate()            { return new Rotate(this, true); }\n\n    loadPhaserGroupPosition() {\n        var position = this.position.phaserGroupPosition();\n\n        this.phaserGroup.x = position.x;\n        this.phaserGroup.y = position.y;\n    }\n\n    loadPhaserGroupPivot() {\n        var pivot = this.position.phaserGroupPivot();\n\n        this.phaserGroup.pivot.x = pivot.x;\n        this.phaserGroup.pivot.y = pivot.y;\n    }\n\n    addOneBrick(brick) {\n        brick.build(false);\n        this.phaserGroup.add(brick.phaserSprite);\n\n        return this.bricks.add(brick);\n    }\n\n    addBricks(bricks) {\n        bricks.forEach((brick) => { this.addOneBrick(brick); });\n    }\n\n    build() {\n        return new Promise((resolve, reject) => {\n\n            var pattern = this.rotate.findPatternByAngle(0);\n\n            var bricks = pattern.positions.map((coord) => {\n                return new Brick(\n                    this.table, coord, this.color.name, this.phaserGame, this\n                );\n            });\n\n            var collisions = new CollisionDetection(this.table)\n            .lookOut(bricks);\n\n            if (collisions.length === 0) {\n                this.addBricks(bricks);\n\n                resolve(this);\n            } else {\n                this.removeBricks(true);\n\n                reject(collisions);\n            }\n        });\n    }\n\n    buildAny(shapes) {\n        this.build(shapes.randomPick());\n    }\n\n    clearCells() {\n        return this.bricks.forEach((brick) => { return brick.clearCell(); });\n    }\n\n    removeBrick(brick, destroy = false) {\n        var index = this.bricks.find(brick);\n\n        this.bricks.splice(index, 1);\n\n        /* Remove parentBlock from table.blocks is last brick was removed.\n         */\n        if (this.bricks.isEmpty) {\n            var tableBlocks = this.table.blocks,\n                idx = tableBlocks.indexOf(this);\n\n            tableBlocks.splice(idx, 1);\n        }\n\n        this.phaserGroup.remove(this.phaserSprite, destroy);\n    }\n\n    removeAllBricks(destroy = false) {\n        this.bricks = new ArrayMain();\n\n        this.phaserGroup.removeAll(destroy);\n    }\n\n    destroy() {\n        this.removeAllBricks(true);\n        this.clearCells();\n    }\n\n    unbound() {\n        this.bricks.forEach((brick) => {\n            var _brick = new Brick(\n                brick.table, brick.position.coordinates,\n                brick.color,\n                brick.phaserGame,\n                null,\n                brick.nBrick\n            );\n\n            _brick.build(false);\n        });\n\n        return this.destroy();\n    }\n\n    land(speed, didLand) {\n        var resolved = ()           => { this.land(speed, didLand); },\n            rejected = (collisions) => {\n                this.unbound();\n                didLand(collisions);\n            };\n\n        setTimeout(() => {\n            this.down(true).then(\n                resolved,\n                rejected\n            );\n        }, speed);\n    }\n\n    collapse(doneCallback) {\n        return this.down(true).then(\n            this.collapse.bind(this, doneCallback),\n            doneCallback\n        );\n    }\n\n    randomLandingPosition(args) {\n        var min = args.pivot.x,\n            max = this.table.xSize - args.pivot.x,\n\n            x   = Util.getRandomInt(min, max - 1),\n            y   = args.pivot.y;\n\n        args.x = x;\n        args.y = y;\n\n        return args;\n    }\n\n    createPosition(args) {\n        if (args.randomLanding) { args = this.randomLandingPosition(args); }\n\n        var pos = new BlockPosition(\n            args.x, args.y, args.pivot, args.childsAnchor\n        );\n\n        return pos;\n    }\n\n    down(detectCollision)   { return this.moveBlock.down(detectCollision); }\n\n    up(detectCollision)     { return this.moveBlock.up(detectCollision); }\n\n    right(detectCollision)  { return this.moveBlock.right(detectCollision); }\n\n    left(detectCollision)   { return this.moveBlock.left(detectCollision); }\n\n    to(position, detectCollision) {\n        return this.moveBlock.to(position, detectCollision);\n    }\n\n    rotateRight(detectCollision) {\n        return new Rotate(this, detectCollision).right();\n    }\n\n    rotateLeft(detectCollision) {\n        return new Rotate(this, detectCollision).left();\n    }\n}\n","import BrickPosition             from './Position/BrickPosition.es6';\nimport MoveBrick                 from './Move/MoveBrick.es6';\nimport CollisionDetection        from './Collision/CollisionDetection.es6';\n\n/**\n * @internal Brick can exist on its own or in a Block\n */\nexport default class Brick {\n    constructor(table, coord, color, phaserGame, parentBlock, n) {\n        this.table                  = table;\n        this.color                  = color;\n        this.phaserGame             = phaserGame;\n\n        if (parentBlock) { this.parentBlock = parentBlock; }\n\n        this.nBrick = n ? n : this.table.incrementNBricks();\n        this.position     = this.createPosition(coord);\n    }\n\n    get moveBrick()         { return new MoveBrick(this.position, this); }\n\n    // get / set cell\n\n    detectCollisions() {\n        var collisions = new CollisionDetection(this.table).lookOut(this);\n\n        return collisions.length === 0;\n    }\n\n    build(checkCollision = false) {\n        return new Promise((resolve, reject) => {\n\n            var buildSuccess = () => {\n                this.phaserSprite = this.createPhaserSprite();\n\n                this.loadPhaserSpriteAnchor();\n                this.putCell(this.position);\n\n                resolve(this);\n            };\n\n            if (!checkCollision) { buildSuccess.call(this); }\n            else {\n                if (this.detectCollisions()) { reject(collisions); }\n                else { buildSuccess.call(this); }\n            }\n        });\n    }\n\n    createPosition(coord) {\n        if (this.parentBlock) {\n            return new BrickPosition(\n                coord[0], coord[1],\n                this.parentBlock.position\n            );\n        } else {\n            return new BrickPosition(\n                coord.x, coord.y\n            );\n        }\n    }\n\n    loadPhaserSpriteAnchor() {\n        this.phaserSprite.anchor.setTo(\n            this.position.anchor.x,\n            this.position.anchor.y\n        );\n    }\n\n    createPhaserSprite() {\n        var spritePosition = this.position.phaserSpritePosition();\n\n        return this.phaserGame.add.sprite(\n            spritePosition.x,\n            spritePosition.y,\n            this.color\n        );\n    }\n\n    remove(destroy = false) {\n        if (this.parentBlock) { this.parentBlock.removeBrick(this, destroy); }\n    }\n\n    destroy() {\n        this.remove(true);\n\n        this.phaserSprite.destroy();\n\n        return this.clearCell();\n    }\n\n    clearCell() {\n        return this.table.cell(this.position).clear();\n    } \n\n    putCell(position) {\n        // Allow to pass no position arg (Block.addBrick)\n        this.position = position;\n\n        return this.table.cellsArray.cell(this.position).setTo(this);\n    }\n\n    collapse(doneCallback) {\n        return this.down(true).then(\n            this.collapse.bind(this, doneCallback),\n            doneCallback\n        );\n    }\n\n    down(detectCollision)   { return this.moveBrick.down(detectCollision); }\n}\n","export default class Cell {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n        this.brick = null;\n    }\n\n    clear() {\n        this.brick = null;\n    }\n\n    setTo(brick) {\n        this.brick = brick;\n\n        return this;\n    }\n\n\n    isEmpty() {\n        return this.brick === null;\n    }\n}\n","import Array2D from './Array/Array2D.es6';\nimport Cell    from './Cell.es6';\n\nexport default class CellsArray extends Array2D {\n    constructor(xSize, ySize) {\n        super(xSize, ySize);\n\n        this.createCells();\n    }\n\n    /* Notice that x and y are switched */\n    cell(position) {\n        return this.array[position.y][position.x];\n    }\n\n    createCells() {\n        for (var x = 0; x < this.ySize; ++x) {\n            for (var y = 0; y < this.xSize; ++y) {\n              this.setAt(x, y, new Cell(x, y));\n            }\n        }\n\n        return this.array;\n    }\n\n}\n","export default class Collision {\n    constructor(position, type) {\n        this.position       = position;\n        this.type           = type;\n    }\n\n}\n","import ArrayMain             from '../Array/ArrayMain.es6';\nimport Collision             from './Collision.es6';\n\nexport default class CollisionDetection {\n    constructor(table) {\n        this.table          = table;\n    }\n\n    againstWall(brick) {\n        return this.table.offLimits(brick.position);\n    }\n\n    againstBrick(brick) {\n        var cell = this.table.cell(brick.position);\n\n        if (cell.isEmpty()) {\n            return false;\n        } else {\n            if (cell.brick.parentBlock) {\n                return cell.brick.parentBlock.nBlock !==\n                       brick.parentBlock.nBlock;\n            } else {\n                return true;\n            }\n        }\n    }\n\n    againstAll(brick) {\n        if (this.againstWall(brick)) {\n            return new Collision(brick.position, 'WALL_COLLISION');\n        }\n\n        if (this.againstBrick(brick)) {\n            return new Collision(brick.position, 'BLOCK_COLLISION');\n        }\n\n        return false;\n    }\n\n    lookOut(bricks) {\n        var collisions = new ArrayMain();\n\n        if (!(bricks instanceof Array)) { bricks = [bricks]; }\n\n        bricks.forEach((brick) => {\n            var collision = this.againstAll(brick);\n\n            if (collision) { collisions.add(collision); }\n\n            return;\n        }, this);\n\n        return collisions;\n    }\n}\n","export default class Color {\n    constructor(name) {\n        this.name = name;\n    }\n\n    static loadTextures(game) {\n        game.load.image('orange', 'images/block_orange.png');\n        game.load.image('green', 'images/block_green.png');\n        game.load.image('yellow', 'images/block_yellow.png');\n        game.load.image('pink', 'images/block_pink.png');\n        game.load.image('blue', 'images/block_blue.png');\n        game.load.image('skyblue', 'images/block_skyblue.png');\n        game.load.image('red', 'images/block_red.png');\n    }\n\n}\n","/*global Phaser*/\n\nimport Table                     from '../Table.es6';\nimport Position                  from '../Position/Position.es6';\nimport Brick                     from '../Brick.es6';\nimport Block                     from '../Block.es6';\nimport GameLoop                  from './GameLoop.es6';\nimport Color                     from '../Color.es6';\nimport Level                     from '../Level.es6';\n\nexport default class Game {\n    constructor(\n        tableOptions, gameOptions, dataBlocks,\n        startCallback, updateCallback,\n        debugMode\n    ) {\n        this.cellSize           = tableOptions.cellSize;\n        this.options            = gameOptions;\n\n        this.level              = new Level(1, gameOptions.speedOptions);\n        this.score              = 0;\n\n        this.blocks             = dataBlocks;\n\n        this.table              = new Table(\n            tableOptions.xSize, tableOptions.ySize\n        );\n\n        this.phaserGame         = this.createPhaserGame(\n            startCallback, updateCallback\n        );\n\n        this.cursors            = null;\n        this.keyboard           = {};\n\n        // this.data = this.parseJSONFile(dataPath);\n        this.debugMode          = debugMode;\n    }\n\n    get cellsArray()   { return this._cellsArray; }\n\n    createPhaserGame(startCallback, updateCallback) {\n        var position = new Position(),\n            width    = position.toPixels(this.table.xSize, this.cellSize),\n            height   = position.toPixels(this.table.ySize, this.cellSize);\n\n        return new Phaser.Game(\n            width,\n            height,\n            Phaser.AUTO,\n            'tetris', {\n                preload: this.phaserPreload,\n                create: this.phaserCreate.bind(this, startCallback),\n                update: this.phaserUpdate.bind(this, updateCallback),\n                render: this.phaserRender\n            });\n    }\n\n    phaserPreload() {\n        Color.loadTextures(this);\n    }\n\n    phaserCreate(startCallback) {\n        this.phaserGame.add.graphics(0, 0);\n\n        this.addKeyboardKeys();\n\n        startCallback();\n\n        this.start();\n    }\n\n    phaserUpdate(updateCallback) {\n        this.listenKeyboardInput();\n\n        // updateCallback();\n    }\n\n    phaserRender() {\n\n    }\n\n    // parseJSONFile(json) {\n    // }\n\n    addKeyboardKeys() {\n        var phaserKeyboard = this.phaserGame.input.keyboard;\n\n        this.cursors = phaserKeyboard.createCursorKeys();\n        this.keyboard.A = phaserKeyboard.addKey(Phaser.Keyboard.A);\n        this.keyboard.S = phaserKeyboard.addKey(Phaser.Keyboard.S);\n        this.keyboard.SPACE = phaserKeyboard.addKey(Phaser.Keyboard.SPACEBAR);\n    }\n\n    listenKeyboardInput() {\n        var keyArrow;\n\n        if (this.cursors.up.justDown)          { keyArrow = 'up'; }\n        else if (this.cursors.down.justDown)   { keyArrow = 'down'; }\n        else if (this.cursors.left.justDown)   { keyArrow = 'left'; }\n        else if (this.cursors.right.justDown)  { keyArrow = 'right'; }\n        else if (this.keyboard.A.justDown)     { keyArrow = 'A'; }\n        else if (this.keyboard.S.justDown)     { keyArrow = 'S'; }\n        else if (this.keyboard.SPACE.justDown) { keyArrow = 'SPACE'; }\n\n        switch (keyArrow) {\n            // case 'up':\n            //     this.landingBlock.up(true);\n            //     break;\n            case 'down':\n                this.landingBlock.down(true);\n                break;\n            case 'left':\n                this.landingBlock.left(true);\n                break;\n            case 'right':\n                this.landingBlock.right(true);\n                break;\n            case 'A':\n                this.landingBlock.rotateLeft(true);\n                break;\n            case 'S':\n                this.landingBlock.rotateRight(true);\n                break;\n            case 'SPACE':\n                this.landingBlock.collapse(() => {});\n                break;\n        }\n    }\n\n    newBlock(blockData) {\n        return new Block(\n            this.phaserGame, this.table, blockData.patterns,\n            { randomLanding: true, pivot: blockData.pivot, childsAnchor: blockData.anchor },\n            blockData.colorName\n        );\n    }\n\n    newRandomBlock() {\n        return this.newBlock(this.blocks.randomPick());\n    }\n\n    gameOver() {\n\n    }\n\n    start() {\n        if (this.debugMode) {\n            // var debug = new Debug();\n        }\n\n        var self = this;\n\n        var pyramid             = self.blocks[0],\n            column              = self.blocks[1],\n            cube                = self.blocks[2],\n            stackRight          = self.blocks[3],\n            stackLeft           = self.blocks[4],\n            squareLeft          = self.blocks[5],\n            squareRight         = self.blocks[6];\n\n        // this.landingBlock = new Brick(\n        //     self.table,\n        //     [5, 5],\n        //     'red',\n        //     self.phaserGame\n        // );\n\n        // this.landingBlock.build(false);\n\n        // this.landingBlock = new Block(\n        //     self.phaserGame, self.table, squareRight.patterns,\n        //     {\n        //         x: 2, y: 2,\n        //         pivot: squareRight.pivot,\n        //         childsAnchor: squareRight.anchor\n        //     },\n        //     'blue'\n        // );\n\n        // this.landingBlock.build();\n\n        var gameLoop = new GameLoop(this);\n\n        gameLoop.start();\n    }\n\n    restart() {\n        this.table.destroyAllRows();\n        this.start();\n    }\n\n}\n","export default class GameLoop {\n    constructor(game) {\n        this.game                   = game;\n    }\n\n    landBlock(block, didLand) {\n        this.game.landingBlock = block;\n\n        this.game.landingBlock\n        .land(this.game.level.speed(), didLand);\n    }\n\n    tossBlocks() {\n        var didLand = () => {\n                this.destroyCompletedRows(this.tossBlocks.bind(this));\n            };\n\n        var randomBlock = this.game.newRandomBlock();\n\n        randomBlock.build().then(\n            (_block) => {\n                this.game.table.blocks.add(_block);\n                this.landBlock(_block, didLand);\n            },\n            () => {\n                this.game.restart();\n            }\n        );\n    }\n\n    destroyCompletedRows(doneCallback) {\n        var completedRows = this.game.table.completedRows;\n\n        var row = completedRows.pop();\n\n        if (!row) { doneCallback(); }\n        else {\n            row.destroy();\n\n            var rowsAbove = this.game.table.rowsAbove(row.nRow);\n\n            this.game.table.collapseRows(rowsAbove, () => {\n                this.updateScore();\n                this.destroyCompletedRows(doneCallback);\n            });\n        }\n    }\n\n    updateScore() {\n        var nRequiredRows = this.game.options.levels.requiredRows,\n            nDeletedRows  = this.game.score - this.game.level.lastScore;\n\n        ++this.game.score;\n\n        if (nDeletedRows === nRequiredRows) {\n            this.game.level.up(this.game.score);\n        }\n    }\n\n    start() {\n        this.tossBlocks();\n    }\n\n}\n","export default class Level {\n    constructor(nLevel = 1, speedOptions) {\n        this.defaultSpeed = speedOptions.defaultSpeed;\n        this.speedFactor  = speedOptions.speedFactor;\n\n        this.nLevel       = nLevel;\n        this.lastScore    = 0;\n    }\n\n    speed() {\n        return this.defaultSpeed - (this.nLevel * this.speedFactor);\n    }\n\n    music() {\n        /* Music for current level */\n    }\n\n    background() {\n        /* Background for current level */\n    }\n\n    up(lastScore) {\n        this.lastScore = lastScore;\n\n        return ++this.nLevel;\n    }\n\n    to(n) {\n        this.nLevel = n;\n\n        return this.nLevel;\n    }\n}\n","export default class Move {\n    constructor() {\n    }\n\n    up() {\n      return {\n        x: this.position.x,\n        y: this.position.y - 1\n      };\n    }\n\n    down() {\n      return {\n        x: this.position.x,\n        y: this.position.y + 1\n      };\n    }\n\n    right() {\n      return {\n        x: this.position.x + 1,\n        y: this.position.y\n      };\n    }\n\n    left() {\n      return {\n        x: this.position.x - 1,\n        y: this.position.y\n      };\n    }\n}\n","/*global Phaser*/\n\nimport Move                      from './Move.es6';\nimport CollisionDetection        from '../Collision/CollisionDetection.es6';\n\nexport default class MoveBlock extends Move {\n    constructor(position, block) {\n        super();\n\n        this.position               = position;\n        this.block                  = block;\n    }\n\n    phaserTranslate() {\n        var tween = this.block.phaserGame.add.tween(this.block.phaserGroup);\n\n        return new Promise((resolve) => {\n            tween.onComplete.add(resolve);\n\n            tween.to(\n              this.block.position.phaserGroupPosition(),\n              1,\n              Phaser.Easing.Linear.None,\n              true\n            );\n        });\n    }\n\n    tableTranslate() {\n        return this.block.bricks.forEach((brick) => {\n            return brick.putCell(brick.position);\n        });\n    }\n\n    pretendFirst(coordinates, resolve, reject) {\n        var collisions;\n\n        this.block.position.saveCoordinates();\n        this.block.position.coordinates = coordinates;\n\n        collisions = new CollisionDetection(this.block.table)\n        .lookOut(this.block.bricks);\n\n        this.block.position.rollbackCoordinates();\n\n        if (collisions.length === 0) {\n            return this.execute(coordinates, resolve);\n        } else {\n            reject(collisions);\n        }\n    }\n\n    execute(coordinates, resolve) {\n        this.block.clearCells();\n\n        this.block.position.coordinates = coordinates;\n\n        this.tableTranslate();\n        this.phaserTranslate().then(resolve);\n    }\n\n    carryOut(coordinates, detectCollision) {\n        return new Promise((resolve, reject) => {\n            if (detectCollision) {\n                this.pretendFirst(coordinates, resolve, reject);\n            } else {\n                this.execute(coordinates, resolve);\n            }\n        });\n    }\n\n    down(detectCollision) {\n        var coordinates = super.down();\n\n        return this.carryOut(coordinates, detectCollision);\n    }\n\n    up(detectCollision) {\n        var coordinates = super.up();\n\n        return this.carryOut(coordinates, detectCollision);\n    }\n\n    right(detectCollision) {\n        var coordinates = super.right();\n\n        return this.carryOut(coordinates, detectCollision);\n    }\n\n    left(detectCollision) {\n        var coordinates = super.left();\n\n        return this.carryOut(coordinates, detectCollision);\n    }\n\n    to(coordinates, detectCollision) {\n        return this.carryOut(coordinates, detectCollision);\n    }\n}\n","/*global Phaser*/\n\nimport MoveBlock                 from './MoveBlock.es6';\nimport CollisionDetection        from '../Collision/CollisionDetection.es6';\n\nexport default class MoveBrick extends MoveBlock {\n    constructor(position, brick) {\n        super(position, brick);\n    }\n\n    tableTranslate() {\n        return this.block.putCell(this.position);\n    }\n\n    phaserTranslate() {\n        var tween = this.block.phaserGame.add.tween(this.block.phaserSprite);\n\n        return new Promise((resolve) => {\n            tween.onComplete.add(resolve);\n            tween.to(\n              this.block.position.phaserSpritePosition(),\n              1,\n              Phaser.Easing.Linear.None,\n              true\n            );\n        });\n\n    }\n\n    pretendFirst(coordinates, resolve, reject) {\n        var collisions;\n\n        this.block.position.saveCoordinates();\n        this.block.position.coordinates = coordinates;\n\n        collisions = new CollisionDetection(this.block.table)\n        .lookOut(this.block);\n\n        this.block.position.rollbackCoordinates();\n\n        if (collisions.length === 0) {\n            return this.execute(coordinates, resolve);\n        } else {\n            reject(collisions);\n        }\n    }\n\n    execute(coordinates, resolve) {\n        this.block.clearCell();\n\n        this.block.position.coordinates = coordinates;\n\n        this.tableTranslate();\n        this.phaserTranslate().then(resolve);\n    }\n\n}\n","import Position            from './Position.es6';\n\nexport default class BlockPosition extends Position {\n    constructor(x, y, pivot, childsAnchor) {\n        super(x, y);\n\n        this.pivot                      = pivot;\n        this.childsAnchor               = childsAnchor;\n    }\n\n    phaserGroupPosition() {\n        return {\n            x: this.toPixels(this.x + this.childsAnchor.x),\n            y: this.toPixels(this.y + this.childsAnchor.y)\n        };\n    }\n\n    phaserGroupPivot() {\n        return {\n            x: this.toPixels(this.pivot.x + this.childsAnchor.x),\n            y: this.toPixels(this.pivot.y + this.childsAnchor.y)\n        };\n    }\n\n}\n","import Position            from './Position.es6';\n\nexport default class BrickPosition extends Position {\n\n    constructor(x, y, blockPosition, anchor = {x: 0, y: 0}) {\n        super(x, y);\n\n        if (blockPosition) {\n            this.blockPosition = blockPosition;\n            this.anchor        = this.blockPosition.childsAnchor;\n        } else {\n            this.anchor = anchor;\n        }\n    }\n\n    get x() {\n        var x;\n\n        if (this.blockPosition) { x = this.blockPosition.x + this._x; }\n        else                    { x = this._x; }\n\n        return x;\n    }\n\n    get y() {\n        var y;\n\n        if (this.blockPosition) { y = this.blockPosition.y + this._y; }\n        else                    { y = this._y; }\n\n        return y;\n    }\n\n    set x(x) { this._x = x; }\n    set y(y) { this._y = y; }\n\n    phaserSpritePosition() {\n        var position;\n\n        position = { x: this._x, y: this._y };\n\n        if (this.blockPosition) {\n            position.x += this.blockPosition.pivot.x + this.anchor.x;\n            position.y += this.blockPosition.pivot.y + this.anchor.y;\n        }\n\n        return {x: this.toPixels(position.x), y: this.toPixels(position.y)};\n    }\n}\n","export default class Position {\n    constructor(x, y, cellSize = 35) {\n        this.x                          = x;\n        this.y                          = y;\n\n        this.cellSize       = cellSize;\n    }\n\n    get coordinates() {\n        return {\n            x: this.x,\n            y: this.y\n        };\n    }\n\n    set coordinates(coordinates) {\n        this.x = coordinates.x;\n        this.y = coordinates.y;\n    }\n\n    saveCoordinates() {\n        this.previousCoordinates = this.coordinates;\n    }\n\n    rollbackCoordinates() {\n        this.coordinates = this.previousCoordinates;\n    }\n\n    toPixels(val) {\n        return val * this.cellSize;\n    }\n}\n","/*global Phaser*/\n\nimport BrickPosition             from './Position/BrickPosition.es6';\nimport CollisionDetection        from './Collision/CollisionDetection.es6';\n\nexport default class Rotate {\n    constructor(block, detectCollision) {\n        this.block              = block;\n        this.detectCollision    = detectCollision;\n\n        this.phaserGame         = block.phaserGame;\n        this.phaserGroup        = block.phaserGroup;\n    }\n\n    findPatternByAngle(angle) {\n        var array = this.block.patterns.filter((i) => {\n            return i.angle === angle;\n        });\n\n        return array[0];\n    }\n\n    phaserTranslate(angle) {\n        var tween = this.phaserGame.add.tween(this.phaserGroup);\n\n        return new Promise((resolve) => {\n            tween.onComplete.add(resolve);\n\n            tween.to(\n                { angle: angle },\n                1,\n                Phaser.Easing.Linear.None,\n                true\n            );\n        });\n    }\n\n    tableTranslate(angle) {\n        var pattern;\n\n        if (angle === 360) { angle = 0; }\n\n        pattern = this.findPatternByAngle(angle);\n\n        this.block.clearCells();\n\n        for (var i = 0; i < this.block.bricks.length; ++i) {\n            var position = new BrickPosition(\n                pattern.positions[i][0],\n                pattern.positions[i][1],\n                this.block.position\n            );\n\n            this.block.bricks[i].putCell(position);\n        }\n    }\n\n    pretendFirst(angle, resolve, reject) {\n        var pattern, bricks, collisions;\n\n        if (angle === 360) { angle = 0; }\n\n        pattern = this.findPatternByAngle(angle);\n\n        bricks = this.block.bricks.map((brick, idx) => {\n            /*\n                We only reference the object, no deep cloning.\n             */\n            var brickRef = Object.create(brick);\n\n            brickRef.position = new BrickPosition(\n                pattern.positions[idx][0],\n                pattern.positions[idx][1],\n                this.block.position\n            );\n\n            return brickRef;\n        });\n\n        collisions = new CollisionDetection(this.block.table)\n        .lookOut(bricks);\n\n        if (collisions.length === 0) {\n            return this.execute(angle, resolve);\n        } else {\n            reject(collisions);\n        }\n    }\n\n    execute(angle, resolve) {\n        this.tableTranslate(angle);\n        this.phaserTranslate(angle).then(resolve);\n    }\n\n    carryOut(angle, detectCollision) {\n        return new Promise((resolve, reject) => {\n            if (detectCollision) {\n                this.pretendFirst(angle, resolve, reject);\n            } else {\n                this.execute(angle, resolve);\n            }\n        });\n    }\n\n    /**\n     * @todo Fix bug: When angle 0, phaser will rotate right to 270\n     * @return {[type]} [description]\n     */\n    left() {\n        var angle = this.phaserGroup.angle === 0\n            ? 270 : this.phaserGroup.angle - 90;\n\n        return this.carryOut(angle, this.detectCollision);\n    }\n\n    right() {\n        var angle = this.phaserGroup.angle === 360\n            ? 90 : this.phaserGroup.angle + 90;\n\n        return this.carryOut(angle, this.detectCollision);\n    }\n\n}\n","import Util           from './Util.es6';\nimport ArrayMain      from './Array/ArrayMain.es6';\n\nexport default class Row {\n    constructor(table, tableRow, nRow) {\n        this.table          = table;\n        this.cells          = tableRow;\n        this.nRow           = nRow;\n    }\n\n    get cells()              { return this._cells; }\n    set cells(cells)         { this._cells = cells; }\n\n    get isCompleted() {\n        return this.cells.every(function(cell) {\n            return !cell.isEmpty();\n        });\n    }\n\n    get isEmpty() {\n        return this.cells.every(function(cell) {\n            return cell.isEmpty();\n        });\n    }\n\n    get bricks() {\n        var bricks = new ArrayMain();\n\n        this.cells.forEach(function(cell) {\n\n            if (!cell.isEmpty()) {\n                var brick = cell.brick;\n\n                if (!bricks.contains(brick)) { bricks.add(brick); }\n            }\n\n        });\n\n        return bricks;\n    }\n\n    /**\n     * @todo Refactor to use get bricks()\n     * @return {[type]} [description]\n     */\n    get blocks() {\n        var blocks = new ArrayMain();\n\n        this.cells.forEach(function(cell) {\n\n            if (!cell.isEmpty()) {\n                var block = cell.brick.parentBlock;\n\n                if (!blocks.contains(block)) { blocks.add(block); }\n            }\n\n        });\n\n        return blocks;\n    }\n\n    clear() {\n        for (var i = 0; i < this.cells.length; ++i ) {\n            this.cells[i].clear();\n        }\n    }\n\n    destroy() {\n        for (var i = 0; i < this.cells.length; ++i) {\n            var cell = this.cells[i];\n\n            if (!cell.isEmpty()) { cell.brick.destroy(); }\n        }\n\n        return this.nRow;\n    }\n\n    collapse(doneCallback) {\n        var promises        = [],\n            previousBricks  = this.bricks.mapTo('nBrick');\n\n        this.bricks.forEach((brick) => {\n            promises.push(brick.collapse(function() {}));\n        });\n\n        Promise.all(promises).then(() => {\n            var bricks = this.bricks.mapTo('nBrick');\n\n            if (bricks.equals(previousBricks)) { doneCallback(); }\n            else { this.collapse(doneCallback); }\n        });\n    }\n}\n","import ArrayBlocks      from './Array/ArrayBlocks.es6';\nimport CellsArray       from './CellsArray.es6';\nimport Row              from './Row.es6';\n\nexport default class Table {\n    constructor(xSize, ySize) {\n        this.xSize          = xSize;\n        this.ySize          = ySize;\n        this._cellsArray    = new CellsArray(xSize, ySize);\n        this.blocks         = new ArrayBlocks();\n        this.nBlocks        = 0;\n        this.nBricks        = 0;\n    }\n\n    get cellsArray()   { return this._cellsArray; }\n\n    get rows() {\n        return this.cellsArray.array.map((row, idx) => {\n            return this.row(idx);\n        });\n    }\n\n    get completedRows() {\n        return this.rows.filter((row) => {\n            return row.isCompleted;\n        });\n    }\n\n    cell(position)     { return this.cellsArray.cell(position); }\n\n    row(x)             { return new Row(this, this.cellsArray.array[x], x); }\n\n    rowAbove(row) {\n        if (row.nRow === 0) { return false; }\n\n        return this.row(row.nRow - 1);\n    }\n\n    incrementNBlocks() {\n        return ++this.nBlocks;\n    }\n\n    incrementNBricks() {\n        return ++this.nBricks;\n    }\n\n    offLimits(position) {\n        return position.x >= this.xSize || position.x < 0 ||\n               position.y >= this.ySize || position.y < 0;\n    }\n\n    destroyAllRows() {\n        this.rows.forEach((row) => {\n            return row.destroy();\n        });\n    }\n\n    rowsAbove(i) {\n        return this.rows.filter(\n            (row) => { return row.nRow < i; }\n        );\n    }\n\n    collapseRows(rows, doneCallback) {\n        var row = rows.pop();\n\n        if (!row) { doneCallback(); }\n        else {\n            row.collapse(this.collapseRows.bind(this, rows, doneCallback));\n        }\n    }\n}\n","export default class Util {\n    static getRandomInt(min, max) {\n        return Math.floor(Math.random() * (max - min + 1)) + min;\n    }\n\n\n    static deepCompare() {\n        var i, l, leftChain, rightChain;\n\n        function deep(x, y) {\n            var p;\n\n            // remember that NaN === NaN returns false\n            // and isNaN(undefined) returns true\n            if (isNaN(x) && isNaN(y) && typeof x === 'number' && typeof y === 'number') {\n                return true;\n            }\n\n            // Compare primitives and functions.\n            // Check if both arguments link to the same object.\n            // Especially useful on step when comparing prototypes\n            if (x === y) {\n                return true;\n            }\n\n            // Works in case when functions are created in constructor.\n            // Comparing dates is a common scenario. Another built-ins?\n            // We can even handle functions passed across iframes\n            if ((typeof x === 'function' && typeof y === 'function') ||\n                (x instanceof Date && y instanceof Date) ||\n                (x instanceof RegExp && y instanceof RegExp) ||\n                (x instanceof String && y instanceof String) ||\n                (x instanceof Number && y instanceof Number)) {\n                return x.toString() === y.toString();\n            }\n\n            // At last checking prototypes as good a we can\n            if (!(x instanceof Object && y instanceof Object)) {\n                return false;\n            }\n\n            if (x.isPrototypeOf(y) || y.isPrototypeOf(x)) {\n                return false;\n            }\n\n            if (x.constructor !== y.constructor) {\n                return false;\n            }\n\n            if (x.prototype !== y.prototype) {\n                return false;\n            }\n\n            // Check for infinitive linking loops\n            if (leftChain.indexOf(x) > -1 || rightChain.indexOf(y) > -1) {\n                return false;\n            }\n\n            // Quick checking of one object beeing a subset of another.\n            // todo: cache the structure of arguments[0] for performance\n            for (p in y) {\n                if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n                    return false;\n                } else if (typeof y[p] !== typeof x[p]) {\n                    return false;\n                }\n            }\n\n            for (p in x) {\n                if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n                    return false;\n                } else if (typeof y[p] !== typeof x[p]) {\n                    return false;\n                }\n\n                switch (typeof (x[p])) {\n                    case 'object':\n                    case 'function':\n\n                        leftChain.push(x);\n                        rightChain.push(y);\n\n                        if (!deep(x[p], y[p])) {\n                            return false;\n                        }\n\n                        leftChain.pop();\n                        rightChain.pop();\n                        break;\n\n                    default:\n                        if (x[p] !== y[p]) {\n                            return false;\n                        }\n                        break;\n                }\n            }\n\n            return true;\n        }\n\n        if (arguments.length < 1) {\n            return true; //Die silently? Don't know how to handle such case, please help...\n            // throw \"Need two or more arguments to compare\";\n        }\n\n        for (i = 1, l = arguments.length; i < l; i++) {\n\n            leftChain = []; //Todo: this can be cached\n            rightChain = [];\n\n            if (!deep(arguments[0], arguments[i])) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n}\n","import ArrayMain        from './lib/Array/ArrayMain.es6';\nimport Game             from './lib/Game/Game.es6';\nimport Data             from './data/data.json.es6';\n\nvar data = Data;\n\n/**\n * @todo This will be translate to parseJSONFile in Block\n */\nvar DataBlocks = (function() {\n    var array = new ArrayMain();\n\n    for (var i = 0; i < data.blocks.length; ++i) {\n        array.add(data.blocks[i]);\n    }\n    return array;\n})();\n\nvar start = function() {\n    var game = window.Superblocks;\n\n    return true;\n};\n\nvar update = function() {\n\n};\n\nwindow.Superblocks = new Game(\n    {\n        xSize: 10, ySize: 20, cellSize: 35\n    },\n    data.gameOptions,\n    DataBlocks,\n    start, update,\n    true\n);\n"]}